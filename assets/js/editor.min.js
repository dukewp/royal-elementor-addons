(function(a){"use strict";function b(a,b,c){var d=b.params.data;a.attributes.settings.attributes.shortcode="[wpr-template id=\""+d.id+"\"]",c.val("[wpr-template id=\""+d.id+"\"]"),a.renderRemoteServer()}function c(b,c){var d=[];for(var e in b)if(e!==c)for(var f=0;f<b[e].length;f++)d.push(".elementor-control-element_select select option[value=\""+b[e][f]+"\"]");a("head").find("#element_select_filter_style").remove();"related"===c||"current"===c||a("head").append("<style id=\"element_select_filter_style\">"+d.join(",")+" { display: none !important; }</style>")}function d(b,c){var d=[];for(var e in b)if(e!==c)for(var f=0;f<b[e].length;f++)d.push(".select2-results__options li[data-select2-id*=\"-"+b[e][f]+"\"]");a("head").find("#post_meta_keys_filter_style").remove(),a("head").append("<style id=\"post_meta_keys_filter_style\">"+d.join(",")+" { display: none !important; }</style>")}function e(b){a("head").find("#list_element_location_style").remove();"list"!==b||a("head").append("<style id=\"list_element_location_style\">.elementor-control-element_location option[value=\"above\"] { display: none !important; }</style>")}function f(b,c,d,e,f){b.on("click",".elementor-control-wpr_library_buttons a:first-child",function(){var b=a(this).data("theme");a(this).attr("href",e+"?ref=rea-plugin-panel-"+d+"-utmtr"+b.slice(0,3)+"nkbs"+b.slice(3,b.length)+"-preview"+f)}),b.on("click",".elementor-control-wpr_library_buttons a:last-child",function(){c.closest("body").find("#wpr-library-btn").attr("data-filter",d),c.closest("body").find("#wpr-library-btn").trigger("click")})}elementor.hooks.addFilter("editor/style/styleText",function(a,b){if(b){var c=b.model,d=c.get("settings").get("wpr_custom_css"),e=".elementor-element.elementor-element-"+c.get("id");return"document"===c.get("elType")&&(e=elementor.config.document.settings.cssWrapperSelector),d&&(a+=d.replace(/selector/g,e)),a}}),elementor.hooks.addAction("panel/open_editor/widget/shortcode",function(c,d){var e=c.$el.find(".elementor-control-type-select2").find("select"),f=c.$el.find(".elementor-control-type-textarea").find("textarea");e.on("select2:select",function(a){b(d,a,f)}),c.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-type-select2",function(){a(this).find("select").on("select2:select",function(a){b(d,a,f)})})}),elementor.hooks.addAction("panel/open_editor/widget/wpr-grid",function(b){var f=b.$el.find(".elementor-control-query_source").find("select"),g=JSON.parse(b.$el.find(".elementor-control-element_select_filter").find("input").val()),h=JSON.parse(b.$el.find(".elementor-control-post_meta_keys_filter").find("input").val());c(g,f.val()),d(h,f.val()),f.on("change",function(){c(g,a(this).val()),d(h,a(this).val())}),b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-query_source",function(){a(this).find("select").on("change",function(){c(g,a(this).val()),d(h,a(this).val())})}),b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-layout_select",function(){e(a(this).find("select").val()),a(this).find("select").on("change",function(){e(a(this).val())})}),b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-grid_elements",function(){a(this).find(".elementor-control-element_select select").on("change",function(){var b=a(this).closest(".elementor-repeater-row-controls");"lightbox"===a(this).val()?(b.find(".elementor-control-element_location").find("select").val("over").trigger("change"),b.find(".elementor-control-element_animation").find("select").val("fade-in").trigger("change"),b.find(".elementor-control-element_align_hr").find("input").eq(1).prop("checked",!0).trigger("change"),b.find(".elementor-control-element_lightbox_overlay").find("input").prop("checked",!0).trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("before").trigger("change"),setTimeout(function(){b.find(".elementor-control-element_extra_icon_pos").addClass("elementor-hidden-control")},100)):(b.find(".elementor-control-element_extra_text_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").removeClass("elementor-hidden-control"))})});var i={};b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-type-section",function(){var b=a(this),c=b.attr("class"),d=c.indexOf("elementor-control-section_"),e=c.indexOf("elementor-control-type-section")-1,f=c.substring(d,e),g=b.offset().top;i[f]=g,setTimeout(function(){b.on("click",function(){var b=a(this),c=b.attr("class"),d=c.indexOf("elementor-control-section_"),e=c.indexOf("elementor-control-type-section")-1,f=c.substring(d,e);setTimeout(function(){a("#elementor-panel-content-wrapper").scrollTop(i[f]-100)},10)})},100)})}),elementor.hooks.addAction("panel/open_editor/widget/wpr-media-grid",function(b){b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-grid_elements",function(){a(this).find(".elementor-control-element_select select").on("change",function(){var b=a(this).closest(".elementor-repeater-row-controls");"lightbox"===a(this).val()?(b.find(".elementor-control-element_location").find("select").val("over").trigger("change"),b.find(".elementor-control-element_animation").find("select").val("fade-in").trigger("change"),b.find(".elementor-control-element_align_hr").find("input").eq(1).prop("checked",!0).trigger("change"),b.find(".elementor-control-element_lightbox_overlay").find("input").prop("checked",!0).trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("before").trigger("change"),setTimeout(function(){b.find(".elementor-control-element_extra_icon_pos").addClass("elementor-hidden-control")},100)):(b.find(".elementor-control-element_extra_text_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").removeClass("elementor-hidden-control"))})})}),elementor.hooks.addAction("panel/open_editor/widget/wpr-woo-grid",function(b){b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-grid_elements",function(){a(this).find(".elementor-control-element_select select").on("change",function(){var b=a(this).closest(".elementor-repeater-row-controls");"lightbox"===a(this).val()?(b.find(".elementor-control-element_location").find("select").val("over").trigger("change"),b.find(".elementor-control-element_animation").find("select").val("fade-in").trigger("change"),b.find(".elementor-control-element_align_hr").find("input").eq(1).prop("checked",!0).trigger("change"),b.find(".elementor-control-element_lightbox_overlay").find("input").prop("checked",!0).trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("before").trigger("change"),setTimeout(function(){b.find(".elementor-control-element_extra_icon_pos").addClass("elementor-hidden-control")},100)):(b.find(".elementor-control-element_extra_text_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").find("select").val("none").trigger("change"),b.find(".elementor-control-element_extra_icon_pos").removeClass("elementor-hidden-control"))})});var c={};b.$el.find("#elementor-controls").on("DOMNodeInserted ",".elementor-control-type-section",function(){var b=a(this),d=b.attr("class"),e=d.indexOf("elementor-control-section_"),f=d.indexOf("elementor-control-type-section")-1,g=d.substring(e,f),h=b.offset().top;c[g]=h,setTimeout(function(){b.on("click",function(){var b=a(this),d=b.attr("class"),e=d.indexOf("elementor-control-section_"),f=d.indexOf("elementor-control-type-section")-1,g=d.substring(e,f);setTimeout(function(){a("#elementor-panel-content-wrapper").scrollTop(c[g]-100)},10)})},100)})});var g=document.referrer;""!==g&&-1<g.indexOf("page=wpr-addons")&&a(window).on("load",function(){a("#elementor-panel-header-menu-button").on("click",function(){setTimeout(function(){a(".elementor-panel-menu-item-exit-to-dashboard").on("click",function(){window.location.href=g})},300)})});for(const[b,c]of Object.entries(registered_modules))elementor.hooks.addAction("panel/open_editor/widget/wpr-"+c[0],function(a,b,d){f(a.$el,d.$el,c[0],c[1],c[2])})})(jQuery);